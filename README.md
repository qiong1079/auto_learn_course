# 你刷就完了 - 自动化学习脚本

[![Python Version](https://img.shields.io/badge/Python-3.8%2B-blue.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

一款适配特定学习平台的自动化学习脚本，支持悬浮窗可视化控制、手动登录适配、自动循环学习，解决了页面元素定位、SVG 按钮点击、进度解析等核心问题。

## 📌 项目介绍
本脚本针对特定学习平台的页面结构开发，核心功能是：
- 自动打开学习平台页面，等待用户手动完成登录（支持验证码/弹窗手动处理）
- 悬浮窗可视化控制任务启停，状态实时更新
- 自动执行「我的学习→全部年度→继续学习」流程
- 监听课程进度，完成后自动返回并开始下一轮学习
- 适配 SVG 返回按钮、特殊格式进度文本等平台特有结构

> ⚠️ 重要提示：本脚本仅用于 **个人学习和技术研究**，请遵守平台使用规范和相关法律法规，请勿用于违规用途。

## 🎯 功能特点
| 功能项                | 说明                                                                 |
|-----------------------|----------------------------------------------------------------------|
| 悬浮窗控制            | 保留悬浮窗（停止任务/开始任务/停止进程），支持拖动，状态实时显示       |
| 弹窗处理              | 取消自动弹窗监听，由用户手动关闭（避免误操作）                       |
| 元素定位适配          | 修复「继续学习」按钮、进度条、SVG 返回按钮等核心元素定位问题           |
| 进度解析              | 支持解析「总学时进度（XX.XX%）」格式文本，精准判断课程完成状态        |
| 安全点击              | 优先 JS 点击，失败自动切换为鼠标模拟点击（适配 SVG 元素）                 |
| 手动登录              | 打开页面后自动暂停，留给用户充足时间完成登录/验证                    |
| 日志记录              | 控制台+文件双日志，便于排查问题（日志文件：`auto_learn_log.log`）     |

## 🛠️ 环境准备
### 1. 基础环境
- Python 3.8 及以上版本
- Chrome 浏览器（版本与 ChromeDriver 自动适配）

### 2. 安装依赖
```bash
# 克隆仓库后，进入项目目录执行
pip install -r requirements.txt 
```

### 3. 依赖清单（requirements.txt）
```bash 
selenium>=4.0.0
webdriver-manager>=4.0.0
pyinstaller>=5.0.0  # 打包EXE用
```


### 🚀 使用步骤
#### 方式 1：本地直接运行
```bash
# 进入项目目录
cd 你刷就完了

# 运行脚本
python auto_learn_course_ter.py
```
#### 方式 2：打包为 EXE（推荐）
```bash
# 打包为单文件 EXE（文件名：你想起的程序名.exe）
pyinstaller -F -i NONE -n "你想起的程序名" auto_learn_course_ter.py

# 如需隐藏控制台（仅显示悬浮窗），添加 -w 参数
pyinstaller -F -w -i NONE -n "你想起的程序名" auto_learn_course_ter.py
```
打包完成后，dist 目录下的 你刷就完了.exe 即为可执行文件，可直接双击运行。
#### 3. 运行流程
- 启动脚本 / EXE → Chrome 自动打开学习平台初始页面，悬浮窗弹出
- 手动操作：在浏览器中完成登录、关闭弹窗等操作
- 点击悬浮窗「开始任务」→ 脚本自动执行学习流程
- 如需暂停：点击「停止任务」；如需退出：点击「停止进程」

### 🎛️ 悬浮窗功能说明

| 按钮     | 功能                                                                 |
| -------- | -------------------------------------------------------------------- |
| 停止任务 | 暂停当前学习循环，保留浏览器和页面（可再次点击「开始任务」继续）|
| 开始任务 | 登录完成后点击，唤醒暂停的任务，开始执行自动化学习流程                 |
| 停止进程 | 强制关闭 Chrome 浏览器、退出悬浮窗，完全终止程序（释放所有资源）|

### ❌ 常见问题排查
1. 「继续学习」按钮找不到
- 问题原因：页面元素结构变更，定位器不匹配
- 解决方案：修改脚本中 continue_locator 为实际页面的元素定位器：
```bash
# 适配你的页面结构（文本+class）
continue_locator = (By.XPATH, "//div[contains(text(), '继续学习') and contains(@class, 'item-bottom-btn')]")
```
2. 进度监听失败 / 重试
- 问题原因：进度条 class 不匹配或文本格式变更
- 解决方案：确认进度元素 class 为 jindu-span，或修改 progress_elem 定位器：
```bash
progress_elem = find_element_present(driver, (By.CLASS_NAME, "jindu-span"))
```
3. 返回按钮点击失败（SVG 元素）
- 问题原因：SVG 元素不支持直接 JS 点击
- 解决方案：脚本已内置 safe_click_element 函数，自动切换为鼠标模拟点击，无需手动修改。
4. EXE 运行闪退
- 解决方案：
  1. 去掉 -w 参数打包，保留控制台窗口，查看报错信息
  2. 确认 Chrome 浏览器已安装，且版本为最新
  3. 检查脚本中 TARGET_URL 是否为正确的学习平台地址

5. 打包时中文文件名乱码
- 解决方案：打包前执行以下命令切换编码：
```bash
chcp 65001
```
### 📄 免责声明
1. 本项目仅用于个人学习、研究目的，请勿用于商业或违规用途。
2. 使用本脚本需遵守目标平台的用户协议和相关法律法规，如因违规使用产生的一切责任，由使用者自行承担。
3. 项目作者不对脚本的可用性、稳定性做任何承诺，使用过程中出现的问题请自行排查。
### 📞 问题反馈
如遇到脚本适配问题，可通过以下方式反馈：
1. 提交 GitHub Issue（附日志文件 auto_learn_log.log 和页面元素截图）
2. 描述清楚问题现象、报错信息、页面结构变更点
📜 许可证
本项目采用 MIT 许可证开源，详见 LICENSE 文件。






